{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, vShow as _vShow, withDirectives as _withDirectives } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", {\n    class: \"outerBox\",\n    ref: \"outerDom\",\n    onScroll: _cache[1] || (_cache[1] = (...args) => $options.getScrollTop && $options.getScrollTop(...args))\n  }, [(_openBlock(), _createElementBlock(_Fragment, null, _renderList(100, item => {\n    return _createElementVNode(\"div\", {\n      key: item\n    }, \"页面内容\" + _toDisplayString(item), 1 /* TEXT */);\n  }), 64 /* STABLE_FRAGMENT */)), _withDirectives(_createElementVNode(\"div\", {\n    class: \"scrollBox\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.goBack && $options.goBack(...args))\n  }, \"⬆️\", 512 /* NEED_PATCH */), [[_vShow, $data.isShow]])], 544 /* HYDRATE_EVENTS, NEED_PATCH */);\n}","map":{"version":3,"names":["_createElementBlock","class","ref","onScroll","_cache","args","$options","getScrollTop","_Fragment","_renderList","item","_createElementVNode","key","_toDisplayString","onClick","goBack","$data","isShow"],"sources":["/Users/tanghaoyun/Documents/GitHub/WebSiteForLab/web-zhang/src/App.vue"],"sourcesContent":["<template>\n    <div class=\"outerBox\" ref=\"outerDom\" @scroll=\"getScrollTop\">\n      <div v-for=\"item in 100\" :key=\"item\">页面内容{{item}}</div>\n      <div class=\"scrollBox\" v-show=\"isShow\" @click=\"goBack\">⬆️</div>\n    </div>\n  </template>\n  <script>\n  export default {\n    data() {\n      return {\n        scrollTop: 0, //默认距离顶部的距离\n        isShow: false, //控制返回顶部按钮的显隐\n        scrollTrigger: false, //默认初始值\n      };\n    },\n    computed: {},\n    methods: {\n      // 返回顶部事件\n      goBack() {\n        let that = this; // 防止this指向问题\n        // 防止频繁点击，故返回顶部后设置scrollTrigger为初始值\n        if (that.scrollTrigger) {\n          return;\n        }\n        // 获取当前距离顶部的距离\n        let scrollTop = this.scrollTop;\n        console.log(scrollTop);\n        let steep = scrollTop / 2000;\n        let timer = setInterval(() => {\n          that.scrollTrigger = true;\n          // 滚动的速度逐渐变快，第一次走2000/1，然后减去已走的距离，下一次用剩下的距离再减去步进值，步进值也是不断变化，这样速度会越来越快\n          scrollTop -= steep;\n          // 步进值不改变的话会匀速缓慢上滑，不断增加步进值上滑的距离增加，视觉效果速度变快\n          steep += 20;\n          if (scrollTop <= 0) {\n            clearInterval(timer);\n            that.scrollTrigger = false;\n          }\n          that.$refs.outerDom.scrollTop = scrollTop;\n        }, 30);\n      },\n      // 监听滚动条\n      getScrollTop(e) {\n        let that = this; // 防止this指向问题\n        // 设备一屏的高度\n        let clientHeight =\n          document.documentElement.clientHeight || document.body.clientHeight;\n        let scrollTop = e.srcElement.scrollTop;\n        this.scrollTop = scrollTop;\n        // 判断距离顶部多少显示回到顶部图标\n        if (scrollTop > clientHeight) {\n          that.isShow = true;\n        } else {\n          that.isShow = false;\n        }\n      },\n    },\n  };\n  </script>\n  <style scoped>\n  /* 最外层盒子样式 */\n  .outerBox {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    overflow-y: auto;\n    padding:4px 6px;\n  }\n  /* 返回顶部样式 */\n  .scrollBox {\n    position: fixed;\n    right: 10px;\n    bottom: 20px;\n    font-size: 22px;\n    z-index: 99;\n  }\n  /* 浏览器滚动条样式 */\n  ::-webkit-scrollbar {\n    width: 4px;\n    background: transparent;\n  }\n  ::-webkit-scrollbar-thumb {\n    background: rgb(174, 174, 174);\n    border-radius: 50px;\n  }\n  ::-webkit-scrollbar-track {\n    background: transparent;\n  }\n  </style>\n  "],"mappings":";;uBACIA,mBAAA,CAGM;IAHDC,KAAK,EAAC,UAAU;IAACC,GAAG,EAAC,UAAU;IAAEC,QAAM,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,YAAA,IAAAD,QAAA,CAAAC,YAAA,IAAAF,IAAA,CAAY;qBACxDL,mBAAA,CAAuDQ,SAAA,QAAAC,WAAA,CAAnC,GAAG,EAAXC,IAAI;WAAhBC,mBAAA,CAAuD;MAA7BC,GAAG,EAAEF;IAAI,GAAE,MAAI,GAAAG,gBAAA,CAAEH,IAAI;kDAC/CC,mBAAA,CAA+D;IAA1DV,KAAK,EAAC,WAAW;IAAkBa,OAAK,EAAAV,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAS,MAAA,IAAAT,QAAA,CAAAS,MAAA,IAAAV,IAAA,CAAM;KAAE,IAAE,0B,SAA1BW,KAAA,CAAAC,MAAM,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}