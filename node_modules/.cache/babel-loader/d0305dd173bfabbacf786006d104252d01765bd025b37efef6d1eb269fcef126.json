{"ast":null,"code":"import _regeneratorRuntime from \"/Users/tanghaoyun/Documents/GitHub/website/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _toConsumableArray from \"/Users/tanghaoyun/Documents/GitHub/website/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _createForOfIteratorHelper from \"/Users/tanghaoyun/Documents/GitHub/website/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _asyncToGenerator from \"/Users/tanghaoyun/Documents/GitHub/website/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/tanghaoyun/Documents/GitHub/website/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/tanghaoyun/Documents/GitHub/website/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport \"core-js/modules/es.object.keys.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport { HOOK_PLUGIN_SETTINGS_SET } from './const.js';\nimport { now as _now } from './time.js';\nexport var ApiProxy = /*#__PURE__*/function () {\n  function ApiProxy(plugin, hook) {\n    var _this = this;\n    _classCallCheck(this, ApiProxy);\n    this.target = null;\n    this.targetQueue = [];\n    this.onQueue = [];\n    this.plugin = plugin;\n    this.hook = hook;\n    var defaultSettings = {};\n    if (plugin.settings) {\n      for (var id in plugin.settings) {\n        var item = plugin.settings[id];\n        defaultSettings[id] = item.defaultValue;\n      }\n    }\n    var localSettingsSaveId = \"__vue-devtools-plugin-settings__\".concat(plugin.id);\n    var currentSettings = Object.assign({}, defaultSettings);\n    try {\n      var raw = localStorage.getItem(localSettingsSaveId);\n      var data = JSON.parse(raw);\n      Object.assign(currentSettings, data);\n    } catch (e) {\n      // noop\n    }\n    this.fallbacks = {\n      getSettings: function getSettings() {\n        return currentSettings;\n      },\n      setSettings: function setSettings(value) {\n        try {\n          localStorage.setItem(localSettingsSaveId, JSON.stringify(value));\n        } catch (e) {\n          // noop\n        }\n        currentSettings = value;\n      },\n      now: function now() {\n        return _now();\n      }\n    };\n    if (hook) {\n      hook.on(HOOK_PLUGIN_SETTINGS_SET, function (pluginId, value) {\n        if (pluginId === _this.plugin.id) {\n          _this.fallbacks.setSettings(value);\n        }\n      });\n    }\n    this.proxiedOn = new Proxy({}, {\n      get: function get(_target, prop) {\n        if (_this.target) {\n          return _this.target.on[prop];\n        } else {\n          return function () {\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n            _this.onQueue.push({\n              method: prop,\n              args: args\n            });\n          };\n        }\n      }\n    });\n    this.proxiedTarget = new Proxy({}, {\n      get: function get(_target, prop) {\n        if (_this.target) {\n          return _this.target[prop];\n        } else if (prop === 'on') {\n          return _this.proxiedOn;\n        } else if (Object.keys(_this.fallbacks).includes(prop)) {\n          return function () {\n            var _this$fallbacks;\n            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n              args[_key2] = arguments[_key2];\n            }\n            _this.targetQueue.push({\n              method: prop,\n              args: args,\n              resolve: function resolve() {}\n            });\n            return (_this$fallbacks = _this.fallbacks)[prop].apply(_this$fallbacks, args);\n          };\n        } else {\n          return function () {\n            for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n              args[_key3] = arguments[_key3];\n            }\n            return new Promise(function (resolve) {\n              _this.targetQueue.push({\n                method: prop,\n                args: args,\n                resolve: resolve\n              });\n            });\n          };\n        }\n      }\n    });\n  }\n  _createClass(ApiProxy, [{\n    key: \"setRealTarget\",\n    value: function () {\n      var _setRealTarget = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(target) {\n        var _iterator, _step, _this$target$on, item, _iterator2, _step2, _this$target, _item;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              this.target = target;\n              _iterator = _createForOfIteratorHelper(this.onQueue);\n              try {\n                for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                  item = _step.value;\n                  (_this$target$on = this.target.on)[item.method].apply(_this$target$on, _toConsumableArray(item.args));\n                }\n              } catch (err) {\n                _iterator.e(err);\n              } finally {\n                _iterator.f();\n              }\n              _iterator2 = _createForOfIteratorHelper(this.targetQueue);\n              _context.prev = 4;\n              _iterator2.s();\n            case 6:\n              if ((_step2 = _iterator2.n()).done) {\n                _context.next = 15;\n                break;\n              }\n              _item = _step2.value;\n              _context.t0 = _item;\n              _context.next = 11;\n              return (_this$target = this.target)[_item.method].apply(_this$target, _toConsumableArray(_item.args));\n            case 11:\n              _context.t1 = _context.sent;\n              _context.t0.resolve.call(_context.t0, _context.t1);\n            case 13:\n              _context.next = 6;\n              break;\n            case 15:\n              _context.next = 20;\n              break;\n            case 17:\n              _context.prev = 17;\n              _context.t2 = _context[\"catch\"](4);\n              _iterator2.e(_context.t2);\n            case 20:\n              _context.prev = 20;\n              _iterator2.f();\n              return _context.finish(20);\n            case 23:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this, [[4, 17, 20, 23]]);\n      }));\n      function setRealTarget(_x) {\n        return _setRealTarget.apply(this, arguments);\n      }\n      return setRealTarget;\n    }()\n  }]);\n  return ApiProxy;\n}();","map":{"version":3,"names":["HOOK_PLUGIN_SETTINGS_SET","now","ApiProxy","plugin","hook","_this","_classCallCheck","target","targetQueue","onQueue","defaultSettings","settings","id","item","defaultValue","localSettingsSaveId","concat","currentSettings","Object","assign","raw","localStorage","getItem","data","JSON","parse","e","fallbacks","getSettings","setSettings","value","setItem","stringify","on","pluginId","proxiedOn","Proxy","get","_target","prop","_len","arguments","length","args","Array","_key","push","method","proxiedTarget","keys","includes","_this$fallbacks","_len2","_key2","resolve","apply","_len3","_key3","Promise","_createClass","key","_setRealTarget","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_iterator","_step","_this$target$on","_iterator2","_step2","_this$target","_item","wrap","_callee$","_context","prev","next","_createForOfIteratorHelper","s","n","done","_toConsumableArray","err","f","t0","t1","sent","call","t2","finish","stop","setRealTarget","_x"],"sources":["/Users/tanghaoyun/Documents/GitHub/website/node_modules/@vue/devtools-api/lib/esm/proxy.js"],"sourcesContent":["import { HOOK_PLUGIN_SETTINGS_SET } from './const.js';\nimport { now } from './time.js';\nexport class ApiProxy {\n    constructor(plugin, hook) {\n        this.target = null;\n        this.targetQueue = [];\n        this.onQueue = [];\n        this.plugin = plugin;\n        this.hook = hook;\n        const defaultSettings = {};\n        if (plugin.settings) {\n            for (const id in plugin.settings) {\n                const item = plugin.settings[id];\n                defaultSettings[id] = item.defaultValue;\n            }\n        }\n        const localSettingsSaveId = `__vue-devtools-plugin-settings__${plugin.id}`;\n        let currentSettings = Object.assign({}, defaultSettings);\n        try {\n            const raw = localStorage.getItem(localSettingsSaveId);\n            const data = JSON.parse(raw);\n            Object.assign(currentSettings, data);\n        }\n        catch (e) {\n            // noop\n        }\n        this.fallbacks = {\n            getSettings() {\n                return currentSettings;\n            },\n            setSettings(value) {\n                try {\n                    localStorage.setItem(localSettingsSaveId, JSON.stringify(value));\n                }\n                catch (e) {\n                    // noop\n                }\n                currentSettings = value;\n            },\n            now() {\n                return now();\n            },\n        };\n        if (hook) {\n            hook.on(HOOK_PLUGIN_SETTINGS_SET, (pluginId, value) => {\n                if (pluginId === this.plugin.id) {\n                    this.fallbacks.setSettings(value);\n                }\n            });\n        }\n        this.proxiedOn = new Proxy({}, {\n            get: (_target, prop) => {\n                if (this.target) {\n                    return this.target.on[prop];\n                }\n                else {\n                    return (...args) => {\n                        this.onQueue.push({\n                            method: prop,\n                            args,\n                        });\n                    };\n                }\n            },\n        });\n        this.proxiedTarget = new Proxy({}, {\n            get: (_target, prop) => {\n                if (this.target) {\n                    return this.target[prop];\n                }\n                else if (prop === 'on') {\n                    return this.proxiedOn;\n                }\n                else if (Object.keys(this.fallbacks).includes(prop)) {\n                    return (...args) => {\n                        this.targetQueue.push({\n                            method: prop,\n                            args,\n                            resolve: () => { },\n                        });\n                        return this.fallbacks[prop](...args);\n                    };\n                }\n                else {\n                    return (...args) => {\n                        return new Promise(resolve => {\n                            this.targetQueue.push({\n                                method: prop,\n                                args,\n                                resolve,\n                            });\n                        });\n                    };\n                }\n            },\n        });\n    }\n    async setRealTarget(target) {\n        this.target = target;\n        for (const item of this.onQueue) {\n            this.target.on[item.method](...item.args);\n        }\n        for (const item of this.targetQueue) {\n            item.resolve(await this.target[item.method](...item.args));\n        }\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}